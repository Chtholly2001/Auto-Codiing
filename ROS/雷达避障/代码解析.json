{
  "title": "代码解析",
  "content": {
    "源码路径": {
      "文档": []
    },
    "核心代码": {
      "初始化": {
        "文档": []
      },
      "雷达回调函数": {
        "文档": [
          "#雷达回调函数：处理订阅到的雷达数据",
          "ranges = np.array(scan_data.ranges)",
          "for i in range(len(ranges)):",
          "angle = (scan_data.angle_min + scan_data.angle_increment * i) * RAD2DEG",
          "#根据设定的雷达检测的角度和障碍物检测距离判断前、左、右是否有障碍物存在",
          "if angle > 180: angle = angle - 360",
          "if 20 < angle < self.LaserAngle:",
          "if ranges[i] < self.ResponseDist*1.5:",
          "self.Left_warning += 1",
          "if -self.LaserAngle < angle < -20:",
          "if ranges[i] < self.ResponseDist*1.5:",
          "self.Right_warning += 1",
          "if abs(angle) <= 20:",
          "if ranges[i] <= self.ResponseDist*1.5:",
          "self.front_warning += 1",
          "#根据检测到障碍物，发布小车的速度让小车避开障碍物",
          "if self.front_warning > 10 and self.Left_warning > 10 and self.Right_warning > 10:",
          "print ('1, there are obstacles in the left and right, turn right')",
          "twist.linear.x = self.linear",
          "twist.angular.z = -self.angular",
          "self.pub_vel.publish(twist)",
          "sleep(0.2)",
          "elif self.front_warning > 10 and self.Left_warning <= 10 and self.Right_warning > 10:",
          "print ('2, there is an obstacle in the middle right, turn left')",
          "twist.linear.x = self.linear",
          "twist.angular.z = self.angular",
          "self.pub_vel.publish(twist)",
          "sleep(0.2)",
          "....."
        ]
      },
      "避障逻辑": {
        "文档": []
      }
    }
  }
}